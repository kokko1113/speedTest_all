<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="text">
    <button onclick="henkan()">henkan</button>
    <p></p>
</body>
</html>
<script>
    function henkan(){
        const inp=document.querySelector("input")
        const text=document.querySelector("p")
        let val=inp.value
        
        const isRGB=/^rgb((\d{1,3}),(\d{1,3}),(\d{1,3}))$/
        const isHEX=/^#([0-9a-fA-F]{6})$/
        
        if(val.match(isRGB)){
            val=val.replace("rgb(","")
            val=val.replace(")","")
            let list=val.split(",").map(text=>parseInt(text.trim()))
            console.log(list);
            
            list =list.map(num=>num<16?"0"+num.toString(16):num.toString(16))
            text.textContent="#"+list.join("")
        }else if(val.match(isHEX)){
            val=val.replace("#","")
            let list =[val.slice(0,2),val.slice(2,4),val.slice(4,6)]
            list=list.map(num=>parseInt(num,16))
            text.textContent=`rgb(${list.join(",")})`
        }else{
            text.textContent="error"
        }
    }
</script>